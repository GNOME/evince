Tue Jan  4 03:22:56 2005  Jonathan Blandford  <jrb@redhat.com>

	* pdf/xpdf/pdf-document.cc
	(pdf_document_thumbnails_get_thumbnail): initial stab at
	implementing thumbnail support for pdfs.  It only does documents
	with precached pdfs now.

Mon Jan  3 17:22:25 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar-thumbnails.c (do_one_iteration): move the
	thumbnail code into a time-based idle as well.  Also, turn off the
	shadow temporarily as it's really slow.

2005-01-03  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_class_init):
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-window.c: (ev_window_open):

	Fix document title bugs and fallback to
	filename when not available.

2005-01-03  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_get_type),
	(ev_document_class_init), (ev_document_load),
	(ev_document_get_title):
	* backend/ev-document.h:
	* pdf/xpdf/pdf-document.cc:
	* ps/ps-document.c: (ps_document_set_property),
	(ps_document_get_property), (ps_document_class_init),
	(document_load):
	* ps/ps-document.h:
	* ps/ps.h:
	* shell/ev-window.c: (update_window_title), (ev_window_open),
	(ev_window_init):

	Initial support for document title. Not working yet.

2005-01-02  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_realize), (ev_view_button_press_event):

	Grab focus on the view when clicking it

2005-01-02  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-marshal.list:
	* shell/ev-view.c: (ev_view_realize), (add_scroll_binding),
	(ev_view_scroll_view), (ev_view_class_init), (ev_view_init):

	Add key bindings to the view. Now if the focus would work
	right...

2005-01-02  Marco Pesenti Gritti  <marco@gnome.org>

	* Makefile.am:
	* backend/Makefile.am:
	* data/Makefile.am:
	* dvi/Makefile.am:
	* dvi/dvilib/Makefile.am:
	* pdf/xpdf/Makefile.am:
	* po/POTFILES.in:
	* ps/Makefile.am:

	Fix distcheck

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_realize):

	Fix mouse wheel scrolling

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/Makefile.am:
	* ps/gstypes.h:
	* ps/gtkgs.c:
	* ps/gtkgs.h:
	* ps/ps-document.c: (catchPipe), (ps_document_init),
	(ps_document_class_init), (ps_document_cleanup),
	(ps_document_finalize), (send_ps), (ps_document_get_orientation),
	(set_up_page), (close_pipe), (is_interpreter_ready),
	(interpreter_failed), (output), (input), (start_interpreter),
	(stop_interpreter), (file_length), (file_readable),
	(check_filecompressed), (check_pdf), (compute_xdpi),
	(compute_ydpi), (compute_size), (ps_document_enable_interpreter),
	(ps_document_get_type), (ps_document_emit_error_msg),
	(document_load), (ps_document_next_page),
	(ps_document_get_current_page), (ps_document_get_page_count),
	(ps_document_goto_page), (ps_document_set_page_size),
	(ps_document_zoom_to_fit), (ps_document_set_zoom),
	(ps_document_load), (ps_document_get_n_pages),
	(ps_document_set_page), (ps_document_get_page),
	(ps_document_widget_event), (ps_document_set_target),
	(ps_document_set_scale), (ps_document_set_page_offset),
	(ps_document_get_page_size), (ps_document_render),
	(ps_document_document_iface_init):
	* ps/ps-document.h:
	* ps/ps.c:
	* shell/ev-window.c: (ev_window_open):

	Rename GtkGS to PSDocument

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_class_init):
	* ps/gtkgs.h:

	Some more leftover...

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_class_init), (gtk_gs_get_orientation),
	(output), (stop_interpreter), (gtk_gs_emit_error_msg),
	(gtk_gs_zoom_to_fit), (gtk_gs_set_zoom):
	* ps/gtkgs.h:

	Remove unused code and make a lot of stuff private

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gsdefaults.c: (gtk_gs_defaults_gconf_client),
	(gtk_gs_defaults_changed):
	* ps/gsdefaults.h:
	* ps/gtkgs.c:
	* ps/gtkgs.h:
	* ps/ps.h:

	Cleanup headers dependencies

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/Makefile.am:
	* ps/ggvutils.c:
	* ps/ggvutils.h:
	* ps/gsdefaults.c: (gtk_gs_defaults_get_paper_sizes):
	* ps/gsdefaults.h:
	* ps/gtkgs.c: (file_length), (file_readable),
	(check_filecompressed), (check_pdf), (gtk_gs_load),
	(gtk_gs_get_postscript):

	Get rid of ggvutils

2004-12-31  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ggvutils.c:
	* ps/ggvutils.h:
	* ps/gsio.h:
	* ps/gtkgs.c: (gtk_gs_set_zoom):

	Cleanups

2004-12-31  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_set_zoom), (gtk_gs_set_zoom_mode):

	Ensure the page is rerendered when changing zoom

2004-12-31  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_base_init),
	(ev_document_changed):
	* backend/ev-document.h:

	Add a changed event that is emitted when the page content
	changes. This is necessary to deal with the fact that
	in ps backend rendering happen asycrounously.
	This makes the ps backend mostly work.

	* pdf/xpdf/pdf-document.cc:

	Emit changed event

	* ps/gtkgs.c: (set_up_page), (gtk_gs_widget_event),
	(ps_document_set_target):

	Emit changed event

	* shell/ev-view.c: (document_changed_callback),
	(ev_view_set_document), (ev_view_set_page):

	Redraw on the changed signal

2004-12-25  Raphael Higino  <raphaelh@cvs.gnome.org>

	* configure.ac: Added pt_BR to ALL_LINGUAS.

Fri Dec 24 00:48:44 2004  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document-bookmarks.c:
	(ev_document_bookmarks_get_child): *
	backend/ev-document-bookmarks.h: * pdf/xpdf/Makefile.am: *
	pdf/xpdf/pdf-document.cc: * pdf/xpdf/pdf-document.h: *
	shell/Makefile.am: * shell/ev-sidebar-bookmarks.c:
	(ev_sidebar_bookmarks_destroy),
	(ev_sidebar_bookmarks_class_init),
	(ev_sidebar_bookmarks_construct), (stack_data_free),
	(do_one_iteration), (populate_bookmarks_idle),
	(ev_sidebar_bookmarks_clear_document),
	(ev_sidebar_bookmarks_set_document): *
	shell/ev-sidebar-bookmarks.h: * shell/ev-sidebar.c:
	(ev_sidebar_add_page),
	(ev_sidebar_set_document): * shell/ev-window.c: (ev_window_open):
	Initial stab at a bookmarks sidebar.  It doesn't navigate yet, but
	it displays both the topics and the page numbers.

2004-12-23  Kristian Høgsberg  <krh@redhat.com>

	* shell/ev-window.c (ev_window_view_sidebar_cb): Hook up sidebar
	toggle.
	* shell/ev-window.c (toggle_entries): Set sidebar default value to
	visible.

2004-12-23  Adam Weinberger  <adamw@gnome.org>

	* configure.ac: Added en_CA to ALL_LINGUAS.

2004-12-23  Martin Kretzschmar  <martink@gnome.org>

	* ChangeLog: replace bottom of this ChangeLog (merged history of
	ggv and gpdf; where all paths were wrong and most of the files are
	not even in this tree) with ChangeLog (from arch) of the shell
	code.

2004-12-23  Havoc Pennington  <hp@redhat.com>

	* shell/ev-window.c: hook up potentially-questionable "find
	results status text" feature - something involving the sidebar or
	scrollbar or a continuous all-pages-on-giant-roll-of-paper-view
	might be better in the end.

	* shell/ev-view.c (ev_view_get_find_status_message): new function, 
	with corresponding signal when it should be updated

	* shell/eggfindbar.c (egg_find_bar_set_status_text): new function

2004-12-22  Havoc Pennington  <hp@redhat.com>

	* pdf/xpdf/pdf-document.cc (pdf_document_find_begin): make search
	find stuff on other pages, sort of (only returns one result on
	invisible pages, to show they have results; updates full results
	for a page when you view it). Currently repaints the current page
	every time a new result is found on any page, which isn't so nice.

2004-12-22  Havoc Pennington  <hp@redhat.com>

	* shell/ev-window.c (ev_window_cmd_edit_find): display an error if
	the document doesn't support find (better ideas?)
	(find_bar_search_changed_cb): handle missing document or document
	that doesn't support find

	* pdf/xpdf/pdf-document.cc: port to implement the new
	EvDocumentFindIface

	* backend/ev-document-find.c: create a new interface for searching

	* backend/ev-document.h, backend/ev-document.c: delete the find stuff

2004-12-23  Martin Kretzschmar  <martink@gnome.org>

	* pdf/xpdf/Makefile.am (libpdfdocument_la_LIBADD): add
	libevbackend.la.

	* shell/ev-window.c (ev_window_print): add GnomePrintJob to
	EvPrintJob constructor arguments.

	* backend/ev-ps-exporter.c, backend/ev-ps-exporter.h: interface
	for documents that can export PostScript (page by page).

	* backend/Makefile.am (libevbackend_la_SOURCES): add them.
	
	* pdf/xpdf/pdf-document.cc (pdf_document_ps_export_begin)
	(pdf_document_ps_export_do_page, pdf_document_ps_export_end)
	(pdf_document_ps_exporter_iface_init:
	Implement EvPSExporter.

	* pdf/xpdf/Makefile.am (libxpdf_la_SOURCES): build PSOutputDev.

2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* backend/Makefile.am:
	* backend/ev-document-thumbnails.c:
	(ev_document_thumbnails_get_type),
	(ev_document_thumbnails_get_thumbnail):
	* backend/ev-document-thumbnails.h:
	* pixbuf/pixbuf-document.c: (G_DEFINE_TYPE_WITH_CODE),
	(pixbuf_document_thumbnails_get_thumbnail),
	(pixbuf_document_document_thumbnails_iface_init):
	* shell/Makefile.am:
	* shell/ev-sidebar-thumbnails.c: (ev_sidebar_thumbnails_destroy),
	(ev_sidebar_thumbnails_class_init), (ev_sidebar_thumbnails_init),
	(populate_thumbnails), (ev_sidebar_thumbnails_set_document):
	* shell/ev-sidebar-thumbnails.h:
	* shell/ev-sidebar.c: (ev_sidebar_init), (ev_sidebar_add_page),
	(ev_sidebar_set_document):
	* shell/ev-utils.c: (gaussian), (create_blur_filter),
	(create_shadow), (ev_pixbuf_add_shadow):
	* shell/ev-utils.h:
	Add thumbnail support.
	
2004-12-22  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-window.c (ev_window_cmd_file_print, ev_window_print)
	(using_postscript_printer): Set up a print dialog for "PostScript
	injection" method.

	* shell/ev-print-job.h, shell/ev-print-job.c: stub classes for
	EvPrintJob.

	* shell/Makefile.am (evince_SOURCES): add ev-print-job.[ch]

2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_init), (set_up_page),
	(ps_document_set_target), (ps_document_get_page_size),
	(ps_document_render):
	* ps/gtkgs.h:

	Fix a few bugs

2004-12-22  Christian Rose  <menthos@menthos.com>

	* configure.ac: Added "sv" to ALL_LINGUAS.

Wed Dec 22 14:47:38 2004  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document-bookmarks.[ch]: new interface to indicate
	document supports bookmarks.

2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ggvutils.c: (ggv_file_readable):
	* ps/ggvutils.h:
	* ps/gtkgs.c: (check_filecompressed), (check_pdf),
	(gtk_gs_get_postscript):

	Remove unused utils

2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_init), (gtk_gs_class_init), (gtk_gs_cleanup),
	(gtk_gs_finalize), (gtk_gs_set_center), (set_up_page), (output),
	(start_interpreter), (compute_size), (gtk_gs_enable_interpreter),
	(gtk_gs_get_type), (gtk_gs_new), (gtk_gs_reload),
	(gtk_gs_emit_error_msg), (gtk_gs_disable_interpreter),
	(gtk_gs_load), (gtk_gs_goto_page), (gtk_gs_set_page_size),
	(gtk_gs_set_override_orientation), (gtk_gs_set_override_size),
	(gtk_gs_set_zoom), (gtk_gs_set_default_orientation),
	(gtk_gs_set_antialiasing), (ps_document_load),
	(ps_document_render):
	* ps/gtkgs.h:

	Another check point for the ps backend. Now I can get it to show
	pages!

Wed Dec 22 13:41:01 2004  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar.c (ev_sidebar_set_document): initial sidebar
	document setting code.

2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* shell/eggfindbar.c: (entry_activate_callback):
	Animate the next button when activate is pressed.
	
2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* shell/ev-window.c: (ev_window_cmd_edit_find),
	(update_fullscreen_popup), (ev_window_fullscreen),
	(ev_window_unfullscreen), (ev_window_state_event_cb),
	(ev_window_focus_out_cb), (find_bar_close_cb), (ev_window_init):
	Fix bugs in fullscreen code.
	
2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* Makefile.am:
	* configure.ac:
	* pixbuf/Makefile.am:
	* pixbuf/pixbuf-document.c: (G_DEFINE_TYPE_WITH_CODE),
	(pixbuf_document_load), (pixbuf_document_get_n_pages),
	(pixbuf_document_set_page), (pixbuf_document_get_page),
	(pixbuf_document_set_target), (pixbuf_document_set_scale),
	(pixbuf_document_set_page_offset), (pixbuf_document_get_page_size),
	(pixbuf_document_render), (pixbuf_document_begin_find),
	(pixbuf_document_end_find), (pixbuf_document_finalize),
	(pixbuf_document_class_init),
	(pixbuf_document_document_iface_init), (pixbuf_document_init):
	* pixbuf/pixbuf-document.h:
	* shell/Makefile.am:
	* shell/ev-application.c: (ev_application_open):
	* shell/ev-window.c: (mime_type_supported_by_gdk_pixbuf),
	(ev_window_open):
	Add pixbuf backend.
	
Tue Dec 21 21:45:43 2004  Soeren Sandmann  <sandmann@redhat.com>

	* Makefile.am: 
	* dvi/dvilib/Makefile.am:
	* dvi/Makefile.am:
	* configure.ac: Auto*ify dvi and dvi/dvilib

	* dvi/Makefile: Remove from CVS
	
	* dvi/dvilib/dl-pkfont.cc (unpack_bitmap): Fix uchar/uint
	confusion.

	* dvi/dvilib/dl-fontdefinition.{cc,hh}: New DviFontMap class
	
	* dvi/dvilib/dl-vffont.{cc,hh}: Many bugfixes to VF code.
	
2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/Makefile.am:
	* ps/gtkgs.c: (gtk_gs_class_init), (gtk_gs_finalize),
	(gtk_gs_value_adjustment_changed), (compute_size),
	(gtk_gs_get_type), (gtk_gs_new), (gtk_gs_new_from_file),
	(gtk_gs_center_page), (gtk_gs_load), (gtk_gs_set_page_size),
	(gtk_gs_set_override_orientation), (gtk_gs_set_override_size),
	(gtk_gs_set_zoom), (gtk_gs_set_default_orientation),
	(gtk_gs_start_scroll), (gtk_gs_get_postscript),
	(gtk_gs_set_adjustments), (gtk_gs_set_available_size),
	(ps_document_load), (ps_document_get_n_pages),
	(ps_document_set_page), (ps_document_get_page),
	(ps_document_set_target), (ps_document_set_scale),
	(ps_document_set_page_offset), (ps_document_get_page_size),
	(ps_document_render), (ps_document_begin_find),
	(ps_document_end_find), (ps_document_document_iface_init):
	* ps/gtkgs.h:
	* shell/Makefile.am:
	* shell/ev-window.c: (ev_window_open):

	Some work to integrate gtkgs with EvDocument

2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* shell/ev-window.c: (update_fullscreen_popup),
	(screen_size_changed_cb), (destroy_exit_fullscreen_popup),
	(exit_fullscreen_button_clicked_cb),
	(fullscreen_popup_size_request_cb), (ev_window_fullscreen),
	(ev_window_unfullscreen), (ev_window_cmd_view_fullscreen),
	(ev_window_state_event_cb), (ev_window_init):
	Add fullscreen support from Epiphany.
	
2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* data/ev-stock-zoom-fit-width.png: fit-width
	stock icon from gpdf.
	
	* shell/ev-stock-icons.[ch]: copied from gpdf.
	
	* shell/main.c: (main): init stock icons.
	
	* shell/ev-window.c: use the fit-width icon.
	
	* data/evince-ui.xml: add zooming toolbar items.

2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* shell/ev-view.c: 
	(ev_view_best_fit), (ev_view_fit_width): because
	get_page_size() returns the scaled page size, we
	need to calculate the scale factor relative to
	the previous scale factor. Should really just
	add get_real_page_size().

2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* shell/ev-view.[ch]:
	(ev_view_zoom), (ev_view_zoom_in), (ev_view_zoom_out),
	(ev_view_normal_size), (ev_view_best_fit), (ev_view_fit_width):
	add zooming.
	
	* shell/ev-window.c: (ev_window_cmd_view_zoom_in),
	(ev_window_cmd_view_zoom_out), (ev_window_cmd_view_normal_size),
	(ev_window_cmd_view_best_fit), (ev_window_cmd_view_page_width):
	hook it up.
	
	* pdf/xpdf/pdf-document.cc:
	(pdf_document_begin_find),
	(pdf_document_end_find): make static.

2004-12-22  Martin Kretzschmar  <martink@gnome.org>

	* pdf/xpdf/GlobalParams.h (setupBaseFontsFc): add prototype.

	* pdf/xpdf/GlobalParams.cc (displayFontTabFc): maps base font
	names to fontconfig patterns.
	(setupBaseFontsFc): setupBaseFonts reimplemented using fontconfig.

	* pdf/xpdf/pdf-document.cc (pdf_document_load): use
	setupBaseFontsFc.

2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* Makefile.am:
	* configure.ac:
	* ps/Makefile.am:
	* ps/ggvutils.c:
	* ps/ggvutils.h:
	* ps/gsdefaults.c:
	* ps/gsdefaults.h:
	* ps/gsio.c:
	* ps/gsio.h:
	* ps/gtkgs.c:
	* ps/gtkgs.h:
	* ps/ps.c:
	* ps/ps.h:

	Import ggv backend. Not hooked up yet.

2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* shell/main.c: (load_files), (main): load files
	from the command line.

2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* configure.ac: don't require bonobo.
	
	* cut-n-paste/recent-files/*: kill bonobo recent
	view.

	* shell/ev-window.c:
	(ev_window_is_empty): upd.
	(unable_to_load), (ev_window_open): load backend
	based on the mime type.

2004-12-22  Martin Kretzschmar  <martink@gnome.org>

	* backend/.cvsignore: ignore generated marshalers source.

	* shell/main.c (main): this is not epiphany.

2004-12-22  Havoc Pennington  <hp@redhat.com>

	* shell/ev-view.c (ev_view_set_document): connect to "found" signal
	(expose_bin_window): draw find highlights

	* shell/ev-window.c (find_bar_search_changed_cb): implement 
	
	* pdf/xpdf/pdf-document.cc (pdf_document_begin_find) 
	(pdf_document_end_find): implement this interface

	* backend/ev-document.c (ev_document_found): add this to emit
	signal

Tue Dec 21 23:57:37 2004  Owen Taylor  <otaylor@redhat.com>

	* data/evince-ui.xml: Add a few more toolbar items.

	* shell/ev-window.c: Hook up page navigation toolbar 
	items.

	* shell/ev-view.[ch]: add ev_view_set/get_page and 
	a page-changed signal.

	* backend/ev-document.{h,cc} pdf/xpdf/pdf-document.cc::
	Add ev_document_get_page().

	* shell/ev-window.c: Sensitize/desensitize navigation
	actions.

2004-12-21  Havoc Pennington  <hp@redhat.com>

	* backend/ev-backend-marshal.c,
	backend/ev-backend-marshalers.list, backend/Makefile.am: add
	marshaler-generator thingy. I'm sure there's a better way to do
	this in the modern world.

	* backend/ev-document.h (struct _EvDocumentIface): add begin_find,
	end_find methods and "found" signal.

	* configure.ac: find glib-genmarshal

Tue Dec 21 23:20:35 2004  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar.c: Construct an actual sidebar.
	* shell/ev-sidebar-bookmarks.[ch]:
	* shell/ev-sidebar-thumbnails.[ch]: Stub out sidebars.

Tue Dec 21 23:05:51 2004  Owen Taylor  <otaylor@redhat.com>

	* backend/ev-document.{h,cc} pdf/xpdf/pdf-document.cc:
	Redo size handling.
	
	* shell/ev-view.c: Track the size from the document.

Tue Dec 21 22:17:04 2004  Owen Taylor  <otaylor@redhat.com>

	* pdf/xpdf/pdf-document.cc (pdf_document_load): PDFDoc
	constructor assumes ownership of the string passed in.
	
	* shell/ev-window.c (ev_window_open): Destroy the error
	dialog once we've displayed it.

Tue Dec 21 21:58:56 2004  Owen Taylor  <otaylor@redhat.com>

	* pdf/xpdf/pdf-document.cc shell/ev-view.c: Hook things up 
	a bit, it works! (sort of)

	* pdf/xpdf/Makefile.am pdf/xpdf/pdf-document.cc:
	Move to .cc since we need to use C++ in the implementation.

	* shell/dummy.cc: Add a CC file to force evince
	to be linked as a C++ program.

Tue Dec 21 21:07:55 2004  Owen Taylor  <otaylor@redhat.com>

	* shell/ev-view.[ch]: Start of content-area widget.

	* shell/ev-window.c: Create a EvView, update it
	as we change documents.

	* shell/Makefile.am shell/ev-marshal.list: Add
	generated marshalers.

Tue Dec 21 20:28:11 2004  Jonathan Blandford  <jrb@redhat.com>

	* Makefile.am (SUBDIRS): move shell.

Tue Dec 21 19:28:55 2004  Owen Taylor  <otaylor@redhat.com>

	* pdf/{goo,fofi,splash,xpdf}/Makefile.am: Switch from
	.a to libtool convenience libraries.

	* shell/ev-window.c (ev_window_open): Hard code loading
	a PDF document.
	
	* backend/ev-document.h: Add a boolean return to load(),
	fix GError * to GError **.

	* pdf/xpdf/pdf-document.[ch] Makefile.am: Add a stub
	object for a PDF backend EvDocument.

Tue Dec 21 18:55:06 2004  Søren Sandmann  <sandmann@redhat.com>

	* dvi/*: New directory with the beginning of a .dvi backend.

2004-12-21  Havoc Pennington  <hp@redhat.com>

	* shell/eggfindbar.c (egg_find_bar_init): change buttons to
	previous/next instead of back/forward

Tue Dec 21 18:26:24 2004  Owen Taylor  <otaylor@redhat.com>

	* backend/ev-document.[ch]: Fix a couple of problems so
	it compile.

Tue Dec 21 18:20:40 2004  Owen Taylor  <otaylor@redhat.com>

	* viewer/* backend/* configure.ac Makefile.am: Move viewer directory 
	to backend/ directory, rename EvViewer to EvDocument.

2004-12-21  Havoc Pennington  <hp@redhat.com>

	* shell/ev-window.c: hook up the find bar widget; now we just need
	a document to find things in

	* shell/eggfindbar.c: a find bar widget

Tue Dec 21 17:20:16 2004  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar.[ch]: initial sidebar boilerplate.

Tue Dec 21 16:30:58 2004  Owen Taylor  <otaylor@redhat.com>

	* pdf/**: Import of xpdf code from gpdf. 

	* pdf/xpdf/xpdfconfig.h: Move the non-config.h config.h to xpdfconfig.h

	* pdf/splash/SplashFTFont.{cc,h} pdf/splash/SplashFTFont.h
	pdf/splash/SplashFTFontEngine.h pdf/splash/SplashFTFontFile.h: 
	Fix FreeType includes.

	* pdf/xpdf/{Error.h GnomeVFSStream.cc ImageOutputDev.cc PDFDoc.cc\
	pdffonts.cc pdfimages.cc pdfinfo.cc pdftoppm.cc pdftops.cc
	pdftotext.cc PSOutputDev.cc PSOutputDev.h SplashOutputDev.h
	Stream.cc TextOutputDev.cc XPDFApp.cc xpdf.cc XPDFViewer.cc
	pdf/xpdf/Error.h PSOutputDev.h SplashOutputDev.h}:
	Include xpdfconfig.h
	
Tue Dec 21 16:08:17 2004  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-window.c (ev_window_dispose): dispose can be called
	multiple times.

2004-12-21  Havoc Pennington  <hp@redhat.com>

	* shell/ev-window.c (ev_window_init): set title to Document Viewer
	rather than Evince

	* data/evince-ui.xml, shell/ev-window.c: add a bunch of stub menu
	items; really they should be synced with the strings, etc. from
	current gpdf, but just getting the boring typing out of the way	

2004-12-21  Marco Pesenti Gritti  <marco@gnome.org>

	* po/POTFILES.in:
	* shell/ev-application.c: (window_destroy_cb):
	* shell/ev-window.c:
	* shell/main.c: (main):

	Actually show the window...

2004-12-21  Marco Pesenti Gritti  <marco@gnome.org>

	* Makefile.am:
	* shell/Makefile.am:
	* shell/ev-application.c: (ev_application_class_init):
	* shell/ev-window.c: (ev_window_dispose), (ev_window_class_init):

	Make it build again

2004-12-21  Marco Pesenti Gritti  <marco@gnome.org>

	Import to gnome cvs.
	
	* Remove copies of gpdf and ggv trees.
	* Rip out all the recursive configure code.
	* Remove bonobo machinery.
	* viewer/*: GInterfaces that backends should/can implement.

2004-11-09  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_cmd_help_about): fix "documentors"
	typo

2004-10-28  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-application.c (EV_APPLICATION_GET_PRIVATE)
	(ev_application_finalize, ev_application_class_init)
	(ev_application_init): use GType instance private data for priv.
    
	* shell/ev-window.c (EV_WINDOW_GET_PRIVATE)
	(ev_window_finalize, ev_window_class_init)
	(ev_window_init): ditto.

2004-10-27  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-application.c (ev_application_new_window): make public
	(ev_application_show_initial_window): kill.
    
	* shell/ev-application.h: update prototypes.
    
	* shell/main.cc (main): inline ev_application_show_initial_window.

2004-10-27  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-application.c (ev_application_new_window): impl.
	(ev_application_show_initial_window): use it.
	(is_window_empty, ev_application_get_empty_window): returns an
	existing empty window or a new one.
	(ev_application_open): from ev_window_cmd_file_open.
    
	* shell/ev-application.h: update prototypes
    
	* shell/ev-window.c (ev_window_is_empty): impl.
	(ev_window_open): make public.
	(ev_window_cmd_file_open): use ev_application_open
    
	* shell/ev-window.h: update prototypes, remove unused.

2004-10-26  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_destroy, ev_window_class_init):
	move destroy handler out of here...
    
	* shell/ev-application.c, shell/ev-application.h: ...into this new
	class. Also handles initial window creation.
    
	* shell/main.cc (main): use EvApplication to create initial
	window.

2004-10-26  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* Makefile.am (SUBDIRS): add cut-n-paste
    
	* cut-n-paste/Makefile.am: add
    
	* configure.ac: generate Makefiles in cut-n-paste

2004-10-26  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_dispose): new, unref the ui_manager
	(ev_window_class_init): install ev_window_dispose.

2004-10-25  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.h, shell/ev-window.c: replace gchar with
	char (gchar looks stupid).

2004-10-25  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* po/de.po: updated German translation.

2004-10-25  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: add more pkg-config library checks for gnome-vfs,
	bonobo etc.
    
	* gpdf/configure.in: temporarily disable libpaper
	checks. Otherwise I'd have to add the checks for the shell, too.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_cmd_file_open): add ps+pdf, ps, pdf
	and * file filters to the file choose.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* po/de.po: Updated German translation.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c: use "S" as mnemonic for Statusbar.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* data/evince-ui.xml: add View->Toolbar and View->Statusbar.
    
	* shell/ev-window.c (menu_item_select_cb, menu_item_select_cb)
	(ev_window_init): implement those menuitems.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* data/evince-ui.xml: add a toolbar (with FileOpen action)
    
	* shell/ev-window.c (ev_window_init): use the toolbar.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_init): use menu translations

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: add "de" to ALL_LINGUAS.
    
	* po/de.po: add German translation.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* Makefile.am (SUBDIRS): add po
    
	* configure.ac: check intltool, glib-gettext etc, generate
	po/Makefile.in
    
	* po, po/POTFILES.in, po/POTFILES.skip: new.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/Makefile.am (INCLUDES): define GNOMELOCALEDIR which we
	already use (#ifdef ENABLE_NLS)
    
	* shell/ev-window.c (ev_window_cmd_help_about): fix two star
	pointer indirection thinko.
    
	* shell/main.c: include gi18n.h for bindtextdomain etc.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (menu_item_select_cb, menu_item_deselect_cb)
	(connect_proxy_cb, disconnect_proxy_cb, ev_window_init): show
	tooltips for menu items in the statusbar.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac, data/Makefile.am, shell/Makefile.am: use
	pkgdatadir drop UIDIR

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* data/evince-ui.xml: Add File->Open menu item
    
	* shell/ev-window.c (ev_window_cmd_file_open): impl. (shows a file
	chooser), hook it up in the ui manager.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c: fix Help->About tooltip.

2004-10-23 Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: set CFLAGS for libevprivate.
    
	* lib/ev-stock-icons.h, lib/ev-stock-icons.c: stock icon
	definitions, factory etc.
    
	* lib/Makefile.am: build libevprivate.a (only stock icon code).
    
	* shell/Makefile.am: link against libevprivate.a.
    
	* shell/ev-window.c (entries): add stock icon to Help->About.
    
	* shell/main.c (main): init stock icon code.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* lib/recent-files: egg recent files code
    
	* lib/Makefile.am: add.
    
	* Makefile.am: add lib subdir.
    
	* configure.ac: gen. lib/Makefile and lib/recent-files/Makefile,
	set CFLAGS for recent-files.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: disable -ansi and -pedantic gcc flags. They
	disable POSIX stuff in stdio.h, but egg-recent uses them.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>	

	* configure.ac: add --disable-deprecated flag (defaults to on in
	"cvs" builds).
    
	* shell/Makefile.am (INCLUDES): use it.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/main.c: add missing #include.
    
	* shell/ev-window.c: fix for pedantic gcc.
	(ev_window_cmd_help_about): split license into paragraphs for
	translators and pedantic compilers.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: add more warning flags if compiling with gcc from
	cvs (or explicitly requested with --enable-more-warnings).

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* data/evince-ui.xml: add File and File->Close menu.
    
	* shell/ev-window.c (ev_window_cmd_file_close_window): impl.
	(ev_window_destroy): quit after destroy.
	(ev_window_class_init): override GtkObject::destroy.
	(entries): install close_window callback.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* Makefile.am (SUBDIRS): add data subdir.
    
	* configure.ac (UIDIR): gen data/Makefile, define UIDIR.  Require
	gtk+ 2.5.0 for GtkAboutDialog.
    
	* data/Makefile.am, data/evince-ui.xml: add, ui definition for the
	main window.
    
	* shell/Makefile.am (INCLUDES): propagate UIDIR definition.
    
	* shell/ev-window.c (ev_window_init): create a menubar, using a ui
	manager.
	(ev_window_cmd_help_about): about command, using GtkAboutDialog.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c, shell/ev-window.h: Created an EvWindow class.

2004-10-22  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/main.c: make it a trivial gtk+ program, adjust configure.ac

2004-10-22  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/*: Added shell directory boilerplate, build it.

2004-10-22  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac, Makefile.am: Added top-level configure.ac and
	Makefile.am
